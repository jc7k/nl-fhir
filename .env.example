# NL-FHIR Environment Configuration
# Copy this file to .env and update values for your environment
#
# MEDICAL SOFTWARE NOTICE: This software is for research and development purposes.
# Not intended for clinical decision-making or patient care without proper validation.
# See MEDICAL_SAFETY.md for healthcare integration guidelines.

# Application Settings
ENVIRONMENT=development
APP_NAME=nl-fhir-converter
APP_VERSION=1.0.0
LOG_LEVEL=INFO

# Security Settings
SECRET_KEY=your-secret-key-here-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1,*.railway.app
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
TRUSTED_HOSTS=localhost,127.0.0.1,*.railway.app

# Performance Settings
MAX_REQUEST_SIZE_MB=1
REQUEST_TIMEOUT_SECONDS=30
RATE_LIMIT_REQUESTS_PER_MINUTE=100
WORKERS=4

# Monitoring Settings
ENABLE_METRICS=true
ENABLE_HEALTH_CHECK=true
METRICS_PORT=9090

# Future Epic 2 - NLP Pipeline
# SPACY_MODEL=en_core_web_sm
# MEDSPACY_ENABLED=true
# NLP_CACHE_ENABLED=true
# NLP_CACHE_TTL_SECONDS=3600

# Future Epic 3 - FHIR Integration
# HAPI_FHIR_URL=http://localhost:8080/fhir
# HAPI_FHIR_TIMEOUT_SECONDS=10
# FHIR_VALIDATION_ENABLED=true
# FHIR_VERSION=R4

# LLM Integration - OpenAI API for Enhanced Structured Output
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.0
OPENAI_MAX_TOKENS=2000
OPENAI_TIMEOUT_SECONDS=30

# LLM Processing Settings
LLM_ENABLED=true
LLM_FALLBACK_ENABLED=true
INSTRUCTOR_ENABLED=true

# LLM Escalation Settings - 4-Tier NLP Architecture
# Medical Safety: High confidence threshold for medical applications
LLM_ESCALATION_ENABLED=true
LLM_ESCALATION_THRESHOLD=0.85
LLM_ESCALATION_CONFIDENCE_CHECK=weighted_average
LLM_ESCALATION_MIN_ENTITIES=3
LLM_ESCALATION_COST_LIMIT_ENABLED=true
LLM_ESCALATION_MAX_REQUESTS_PER_HOUR=100

# Epic 4 - Reverse Validation
SUMMARIZATION_ENABLED=false
SAFETY_VALIDATION_ENABLED=false

# Future Epic 5 - Deployment
# RAILWAY_ENVIRONMENT=production
# WORKERS=4
# DATABASE_URL=postgresql://user:pass@localhost/nlfi-hr
# REDIS_URL=redis://localhost:6379
# SENTRY_DSN=your-sentry-dsn-here
